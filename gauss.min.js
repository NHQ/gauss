(function(e){var t=function(e){"use strict";var n=Array.isArray(e)?e:Array.prototype.slice.call(arguments);Array.prototype.slice.call(arguments).length===0&&(n=[]);var r={sum:0,product:1,variance:0,values:Array.prototype.slice.call(n)};r.sync=function(){r.values=Array.prototype.slice.call(n)};var i=function(e,t){return e-t},s=function(e,t){return t-e};return Object.defineProperties(n,{indexOf:{value:function(e){for(var t=0;t<n.length;t++)if(n[t]===e)return t;return-1},writable:!0,enumerable:!1},sum:{value:function(e){var t=0;if(n.equal(r.values)&&r.sum!==0)t=r.sum;else{for(var i=0;i<n.length;)t+=n[i++];r.sum=t,r.sync()}return e?e(t):t},writable:!0,enumerable:!1},product:{value:function(e){var t=1;if(n.equal(r.values)&&r.product!==1)t=r.product;else for(var i=0;i<n.length;)t*=n[i++],r.product=t,r.sync();return e?e(t):t},writable:!0,enumerable:!1},mean:{value:function(e){var t=n.sum()/n.length;return e?e(t):t},writable:!0,enumerable:!1},gmean:{value:function(e){var t=Math.pow(Math.abs(n.product()),1/n.length);return e?e(t):t},writable:!0,enumerable:!1},hmean:{value:function(e){function t(e){for(var t=0,n=0;t<e.length;)n+=1/Math.abs(e[t++]);return n}var r=n.length/t(n);return e?e(r):r},writable:!0,enumerable:!1},qmean:{value:function(e){var t=Math.sqrt(n.pow(2).sum()/n.length);return e?e(t):t},writable:!0,enumerable:!1},median:{value:function(e){var t=n.copy();t.sort(i);var r=n.length%2===0?(t[n.length/2-1]+t[n.length/2])/2:t[parseInt(n.length/2)];return e?e(r):r},writable:!0,enumerable:!1},mode:{value:function(e){var r={},i=1,s=new t;for(var o=0;o<n.length;o++){var u=n[o];r[u]==null?r[u]=1:r[u]++,r[u]>i?(s=new t(u),i=r[u]):r[u]==i&&(s.push(u),i=r[u])}return s.length===1&&(s=s[0]),e?e(s):s},writable:!0,enumerable:!1},range:{value:function(e){var t=n.max()-n.min();return e?e(t):t},writable:!0,enumerable:!1},variance:{value:function(e){var t=0,i=0;if(n.equal(r.values)&&r.variance!==0)i=r.variance;else{for(var s=0;s<n.length;s++){var o=t;t+=(n[s]-o)/(s+1),i+=(n[s]-o)*(n[s]-t)}i/=n.length,r.variance=i,r.sync()}return e?e(i):i},writable:!0,enumerable:!1},stdev:{value:function(e,t){var r=0;return e?n.density(e).stdev():(r=Math.sqrt(n.variance()),t?t(r):r)},writable:!0,enumerable:!1},frequency:{value:function(e,t){var r=0;if(n.indexOf(e)!==-1){var s=n.copy();s.sort(i),r=s.lastIndexOf(e)-s.indexOf(e)+1}return t?t(r):r},writable:!0,enumerable:!1},percentile:{value:function(e,t){var r=n.copy();r.sort(i);var s=r[0];return e>0&&(s=r[Math.floor(n.length*e)]),t?t(s):s},writable:!0,enumerable:!1},density:{value:function(e,r){var s,o=n.copy();o.sort(i);if(e==1)return o;var u=Math.round(n.length*(.5-e/2)-1),a=Math.round(n.length*(.5+e/2)-1);return s=new t(o.slice(u,a)),r?r(s):s},writable:!0,enumerable:!1},distribution:{value:function(e,t){var r=n.copy();r.sort(i);var s=function(e,t,n,r){return t===e.length?r:(r[e[t]]=n==="relative"?e.frequency(e[t])/e.length:e.frequency(e[t]),s(e,e.lastIndexOf(e[t])+1,n,r))},o=e==="relative"?s(r,0,"relative",{}):s(r,0,"raw",{});return t?t(o):o},writable:!0,enumerable:!1},quantile:{value:function(e,r){var s=n.copy();s.sort(i);var o=1/e,u=new t;if(e>n.length)throw new RangeError("Subset quantity is greater than the Vector length");for(var a=o;a<1;a+=o){var f=Math.round(s.length*a)-1;f<s.length-1&&u.push(s[f])}return r?r(u):u},writable:!0,enumerable:!1},delta:{value:function(e){var r=new t;for(var i=1;i<n.length;i++)r.push(n[i]-n[i-1]);return e?e(r):r},writable:!0,enumerable:!1},sma:{value:function(e,r){var i;if(e===1)i=n;else{var s=(new t(n.slice(0,e))).sum();i=new t([s/e]);for(var o=1;o<n.length-e+1;o++)s+=n[o+e-1]-n[o-1],i.push(s/e)}return r?r(i):i},writable:!0,enumerable:!1},ema:{value:function(e,r){if(typeof e=="number"){var i=e;e={period:i,ratio:function(e){return 2/(e+1)}}}var s=(new t(n.slice(0,e.period))).sum(),o=new t([s/e.period]),u=e.ratio(e.period);for(var a=1;a<n.length-e.period+1;a++)o.push(u*(n[a+e.period-1]-o[a-1])+o[a-1]);return r?r(o):o},writable:!0,enumerable:!1},max:{value:function(e){var t=Math.max.apply({},n);return e?e(t):t},writable:!0,enumerable:!1},min:{value:function(e){var t=Math.min.apply({},n);return e?e(t):t},writable:!0,enumerable:!1},abs:{value:function(e){var t=n.map(function(e){return Math.abs(e)});return e?e(t):t},writable:!0,enumerable:!1},acos:{value:function(e){var t=n.map(function(e){return Math.acos(e)});return e?e(t):t},writable:!0,enumerable:!1},asin:{value:function(e){var t=n.map(function(e){return Math.asin(e)});return e?e(t):t},writable:!0,enumerable:!1},atan:{value:function(e){var t=n.map(function(e){return Math.atan(e)});return e?e(t):t},writable:!0,enumerable:!1},ceil:{value:function(e){var t=n.map(function(e){return Math.ceil(e)});return e?e(t):t},writable:!0,enumerable:!1},cos:{value:function(e){var t=n.map(function(e){return Math.cos(e)});return e?e(t):t},writable:!0,enumerable:!1},exp:{value:function(e){var t=n.map(function(e){return Math.exp(e)});return e?e(t):t},writable:!0,enumerable:!1},floor:{value:function(e){var t=n.map(function(e){return Math.floor(e)});return e?e(t):t},writable:!0,enumerable:!1},log:{value:function(e){var t=n.map(function(e){return Math.log(e)});return e?e(t):t},writable:!0,enumerable:!1},pow:{value:function(e,t){var r=n.map(function(t){return Math.pow(t,e)});return t?t(r):r},writable:!0,enumerable:!1},round:{value:function(e){var t=n.map(function(e){return Math.round(e)});return e?e(t):t},writable:!0,enumerable:!1},sin:{value:function(e){var t=n.map(function(e){return Math.sin(e)});return e?e(t):t},writable:!0,enumerable:!1},sqrt:{value:function(e){var t=n.map(function(e){return Math.sqrt(e)});return e?e(t):t},writable:!0,enumerable:!1},tan:{value:function(e){var t=n.map(function(e){return Math.tan(e)});return e?e(t):t},writable:!0,enumerable:!1},equal:{value:function(e,t){var r=!(n<e||e<n);return t?t(r):r},writable:!0,enumerable:!1},clone:{value:function(e){var t=Array.isArray(n)?[]:{};for(var r in n){if(r==="clone")continue;n[r]&&typeof n[r]=="object"?t[r]=n[r].clone():t[r]=n[r]}return e?e(t):t},writable:!0,enumerable:!1},copy:{value:function(e){var r=new t(n.slice());return e?e(r):r},writable:!0,enumerable:!1},toArray:{value:function(e){var t=Array.prototype.slice.call(n);return e?e(t):t},writable:!0,enumerable:!1},push:{value:function(){var e=n.length===0?0:r.sum/n.length,t=n.length===0?0:r.variance*n.length,i=Array.prototype.slice.call(arguments),s=i[i.length-1],o=n.length;if(typeof s=="function"){for(var u=0;u<i.length-1;u++){Array.prototype.push.call(n,i[u]),Array.prototype.push.call(r.values,i[u]);var a=e;e+=(i[u]-a)/n.length,t+=(i[u]-a)*(i[u]-e),r.sum+=i[u],r.product*=i[u]}return t/=n.length,r.variance=t,o++,s(o)}for(var u=0;u<i.length;u++){Array.prototype.push.call(n,i[u]),Array.prototype.push.call(r.values,i[u]);var a=e;e+=(i[u]-a)/n.length,t+=(i[u]-a)*(i[u]-e),r.sum+=i[u],r.product*=i[u]}return t/=n.length,r.variance=t,o++,o},writable:!0,enumerable:!1},concat:{value:function(){var e=Array.prototype.slice.call(arguments),r=e[e.length-1];return typeof r=="function"?typeof e[0]!="number"?r(new t(n.toArray().concat(e[0]))):r(new t(n.toArray().concat(e.slice(0,e.length-1)))):typeof e[0]!="number"?new t(n.toArray().concat(e[0])):new t(n.toArray().concat(e))},writable:!0,enumerable:!1},slice:{value:function(e,r,i){var s=Array.prototype.slice.call(arguments);return s.length===3?i(new t(n.toArray().slice(e,r))):s.length===2?typeof s[1]=="function"?i(new t(n.toArray().slice(e))):new t(n.toArray().slice(e,r)):s.length===1?new t(n.toArray().slice(e)):new t(n.toArray().slice())},writable:!0,enumerable:!1},filter:{value:function(e,r){var i=new t(n.toArray().filter(e));return r?r(i):i},writable:!0,enumerable:!1},every:{value:function(e,t){var r=n.toArray().every(e);return t?t(r):r},writable:!0,enumerable:!1},map:{value:function(e,r){var i=new t(n.toArray().map(e));return r?r(i):i},writable:!0,enumerable:!1},some:{value:function(e,t){var r=n.toArray().some(e);return t?t(r):r},writable:!0,enumerable:!1},reduce:{value:function(e,t,r){var i=Array.prototype.slice.call(arguments);return i.length===3?r(n.toArray().reduce(e,t)):i.length===2?typeof i[1]=="function"?r(n.toArray().reduce(e)):n.toArray().reduce(e,t):n.toArray().reduce(e)},writable:!0,enumerable:!1},reduceRight:{value:function(e,t,r){var i=Array.prototype.slice.call(arguments);return i.length===3?r(n.toArray().reduceRight(e,t)):i.length===2?typeof i[1]=="function"?r(n.toArray().reduceRight(e)):n.toArray().reduceRight(e,t):n.toArray().reduceRight(e)},writable:!0,enumerable:!1},extend:{value:function(e,t){for(var r in e)Object.defineProperty(n,r,{value:function(){return e[r].apply(n,arguments)},writable:!0,enumerable:!1});return t?t(n):n},writable:!0,enumerable:!1}}),r.sum=n.sum(),r.product=n.product(),r.variance=n.variance(),n};Array.prototype.toVector=function(){return new t(this)},typeof window!="undefined"?(window.gauss=typeof window.gauss=="undefined"?e:window.gauss,window.gauss.Vector=t):exports=module.exports=t})({});(function(){var e=typeof window=="undefined"?require("./vector"):window.gauss.Vector,t=function(t){"use strict";var n=arguments.length===2?Array.prototype.slice.call(arguments):t;return Array.prototype.slice.call(arguments).length===0&&(n=[]),Object.defineProperties(n,{byValue:{value:function(e,t){return e[1]<t[1]?-1:e[1]>t[1]?1:0},writable:!0,enumerable:!1},byDate:{value:function(e,t){return e[0]<t[0]?-1:e[0]>t[0]?1:0},writable:!0,enumerable:!1},times:{value:function(t){var n=new e(Array.prototype.map.call(this,function(e){return e[0]}));return t?t(n):n},writable:!0,enumerable:!1},values:{value:function(t){var n=new e(Array.prototype.map.call(this,function(e){return e[1]}));return t?t(n):n},writable:!0,enumerable:!1},extend:{value:function(e,t){for(var r in e)Object.defineProperty(n,r,{value:function(){return e[r].apply(n,arguments)},writable:!0,enumerable:!1});return t?t(n):n},writable:!0,enumerable:!1}}),n};typeof window!="undefined"?window.gauss.TimeSeries=t:exports=module.exports=t})();